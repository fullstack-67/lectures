---
marp: true
theme: default
class:
  - invert
author: Nirand Pisutha-Arnond
paginate: true
footer: "261497: Fullstack Development"
---

<style>
@import url('https://fonts.googleapis.com/css2?family=Prompt:ital,wght@0,100;0,300;0,400;0,700;1,100;1,300;1,400;1,700&display=swap');

    :root {
    font-family: Prompt;
    --hl-color: #D57E7E;
}
h1 {
  font-family: Prompt
}
</style>

# Fullstack Development

---

# Authentication / Authorization

---

## Authentication

- A process of verifying user identity.
- Who is the user?
- Is the user really who he/she represents himself to be?

## Authorization

- A process of verifying a userâ€™s access level.
- Is user X authorized to access resource R?
- Is user X authorized to perform operation P?

---

# Part 1: Signing up/in with credential

_(Authorization)_

---

# Sign up

- Let a user fill in username and password.
- Create user credential in database.
- _How do you store password?_

---

# 6 levels of safety

| Technique                        | Ranking | Vunerability         |
| :------------------------------- | :-----: | :------------------- |
| Plain text                       |    F    | All                  |
| Encryption                       |    D    | Stolen key           |
| Hashing                          |    C    | Rainbow table attack |
| Salting                          |    B    | Fast computer        |
| Salting + Cost Factor (`bcrypt`) |   B+    | _Infinity stone_ ðŸ¤£  |
| ?                                |    A    |                      |

Adapted from [source](https://youtu.be/qgpsIBLvrGY?si=bDSXaifIQ5aBjPyY)

---

# Note

- [SHA256](https://emn178.github.io/online-tools/sha256.html)
- [Rawinbow table attack](https://en.wikipedia.org/wiki/Dictionary_attack#Pre-computed_dictionary_attack/Rainbow_table_attack)
- `bcrypt` hash

![width:900](./img/bcrypt_hash.png)

---

# Implementation

- `git clone -b bcrypt https://github.com/fullstack-67/auth-mpa-v2.git auth-bcrypt`
- `pnpm i`
- `npx tsx ./src/hash.ts`
- `npx tsx ./src/compare.ts`

---

# Passport

- `git clone -b signin-credential https://github.com/fullstack-67/auth-mpa-v2.git auth-signin-credential`
- `pnpm i`
- `npm run db:reset`
- `npm run dev`
